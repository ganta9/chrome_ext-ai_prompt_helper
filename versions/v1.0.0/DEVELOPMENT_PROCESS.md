# 開発プロセス指針 (DEVELOPMENT_PROCESS.md)

このドキュメントは、効率的で安全なソフトウェア開発を行うためのプロセス指針です。新規開発プロジェクト開始前に必ずこのファイルを確認し、記載されたプロセスに従って開発を進めてください。

## 📁 プロジェクト構造

全てのプロジェクトは以下の構造で管理します：

```
project/
├── temp/           # 全バージョン履歴保持（スクリプト・設定ファイル）
├── test/           # 最新版のみ（テスト用）
├── src/            # リリース版（メジャーバージョンフォルダ構成）
├── docs/          # ドキュメント（上書き管理）
│   ├── spec.md    # 要件・仕様書
│   └── fails.md   # 失敗事例・バグ記録
└── README.md      # プロジェクト情報
```

## 🔄 開発フロー

### 1. プロジェクト開始
```
要件ヒアリング → docs/spec.md作成 → 仕様確定
    ↓
技術調査 → 実装戦略提示 → 承認待ち → 開発開始
    ↓
docs/fails.md確認 → プログラム実装
    ↓
バグ発生 → fails.md記録 → 対策検討 → 継続
    ↓
要件変更 → spec.md更新 → (必要に応じてREADME.md更新) → プログラム更新
```

### 2. 具体的な実行手順

#### Phase 1: 要件定義
1. **最初にやること**: `docs/spec.md`を作成
2. **要件ヒアリング**: ユーザーから要件を完全に引き出す
3. **仕様確定**: プログラム作成前に仕様を100%固める

#### Phase 2: 技術戦略策定
1. **技術調査**: 必要な技術・ツールを調査
2. **実装戦略提示**: 以下の内容を整理して提示
   - 使用技術・ツール（何を使うか）
   - アプローチ方法（どう実現するか）
   - 想定される課題（予想される困難点）
   - 代替案（失敗時のプランB）
   - 技術的根拠（なぜそのアプローチを選んだか）
3. **承認待ち**: ユーザーからOKをもらってから実装開始

#### Phase 3: 開発実装
1. **失敗事例確認**: `docs/fails.md`を必ず確認
2. **プログラム実装**: 承認された戦略に沿って開発
3. **バグ対応**: 発生次第、即座に`docs/fails.md`に記録

## 📝 ドキュメント管理ルール

### spec.md（要件・仕様管理）
- **作成タイミング**: プロジェクト開始時（必須）
- **更新タイミング**: 要件変更時（必須）
- **管理方法**: docs/で上書き管理（最新版のみ保持）

### fails.md（失敗事例・バグ記録）
- **記録対象**: 全てのバグ・失敗事例
- **記録内容**: 
  - 何をした（アプローチ）
  - どんなバグになった（結果）
  - なぜ失敗したか（原因分析）
- **活用方法**: 開発前に必ず確認し、同じ失敗を回避
- **管理方法**: docs/で追記管理

### README.md（プロジェクト情報）
- **更新タイミング**: 必要に応じて更新
- **更新対象**: 
  - 新機能追加時
  - 使用方法の変更時
  - セットアップ手順の変更時
  - プロジェクト概要の変更時
- **管理方法**: プロジェクト直下で上書き管理

## 🔢 バージョン管理システム

### ファイル命名規則
- **開発中**: `temp/filename_v1.0.1.applescript`
- **テスト用**: `test/filename.applescript`（最新版のみ）
- **リリース版**: `src/v1.0/filename.applescript`

### バージョン番号ルール
- **マイナーアップ**: 小さな変更でも0.0.1ずつアップ
- **メジャーアップ**: 指示時に実施、マイナーは0.1からリセット
  - 例: 1.0.15 → 2.0.1

### 管理対象
- **バージョン管理対象**: スクリプトファイル、設定ファイル
- **上書き管理対象**: ドキュメントファイル（spec.md、fails.md）、README.md

### 自動化ルール
- **temp更新時**: `temp/filename_v1.0.5.applescript`作成と同時に、バージョン番号を削除した`test/filename.applescript`として最新版をコピー
- **test管理**: 常に最新版のみ保持（古いバージョンは自動で削除・上書き）
- **履歴保持**: temp内は全バージョン永続保持

### リリース管理
- **リリースタイミング**: ユーザーの指示時
- **リリース処理**: `src/v{メジャーバージョン}/`フォルダ作成してファイル格納

## ⚠️ 重要な禁止事項

### 絶対に避けること
1. **仕様未確定でのプログラム開始**: 必ずspec.md確定後に開始
2. **技術戦略未承認での実装**: 必ず実装戦略の承認を得てから開始
3. **失敗事例の未確認**: 開発前にfails.mdを必ず確認
4. **バグの未記録**: 発生したバグは必ずfails.mdに記録
5. **要件変更時のspec.md未更新**: 要件変更は必ずspec.md更新から

### 変更管理
- **要件変更時**: spec.md更新 → 確認・合意 → プログラム更新
- **戦略変更時**: 実装戦略再提示 → 再承認 → プログラム更新

## 🎯 品質保証

### 開発前チェックリスト
- [ ] spec.mdが作成され、要件が明確に定義されている
- [ ] 実装戦略が提示され、承認されている  
- [ ] fails.mdを確認し、過去の失敗パターンを把握している
- [ ] プロジェクト構造（temp/test/src/docs/）が準備されている

### 開発中チェックリスト
- [ ] バグ発生時はfails.mdに即座に記録している
- [ ] ファイル更新時はバージョン番号を適切に管理している
- [ ] test/フォルダに最新版が自動更新されている

### 完了前チェックリスト
- [ ] 要件がspec.md通りに実装されている
- [ ] 必要に応じてREADME.mdが更新されている
- [ ] リリース指示があればsrc/フォルダに適切に格納されている

---

**このプロセスを守ることで、ファイル消失、仕様迷子、同じ失敗の繰り返しを防ぎ、効率的で安全な開発が可能になります。**